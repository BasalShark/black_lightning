<dl class="cast-crew-list">
  <% team_members.each do |team_member| %>  
    <dt><b><%= team_member.position %></b></dt>

    <% user = team_member.user %>
    <% name = user.nil? ? 'Unknown' : (user.name.presence || 'Unknown') %>

    <dd>
      <% if (can? :edit, user) %>
        <%= link_to name, edit_admin_user_path(user) %>
      <% elsif user.public_profile? %>
        <%= link_to name, user %>
      <% else %>
        <%= name %>
      <% end %>
    </dd>
    
  <% end %>
</dl>