<% ### WARNING ### %>
<% # You have to include the content tag and the autocomplete field in the form yourself. %>
<% # You also have to set the error on the fields group.  %>
<% # Finally, you have to add a f.full_error :user_id tag. %>
<% # The best example is probably the /shared/form/sections/_team_members %>

<% # If you want to use this for just a single user relation, it's better to use _user_field (for example: setting the debtor on debt) %>

<% insert_fields ||= [] %>

<% insert_fields.each do |field| %>
  <%= field %>
<% end %>

<% # User_name_field has that suffix because otherwise it would conflict with the actual team member user name field. You can access the user_name_field if you like. %>
<%= f.input_field :user_id, collection: User.all, as: :select2, 'data-placeholder' => 'User' %>
