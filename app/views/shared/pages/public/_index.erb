<h1><%= @title %></h1>

<%= display_block("Public Index - #{@title}", false) %>

<%= search_form %>

<div class="row">
  <div class="col">
    <% if items.empty? %>
      <%= display_block("Public Index - #{@title} - Empty", false) %>
    <% else %>
        <% items.each do |item| %>
          <div class="d-flex">

            <% # BOOTSTRAP: The image does not quite fill its box. %>
            <% image = image_tag(item[:image].variant(thumb_variant_public), class: 'flex-fill', style: "width: #{thumb_variant_public[:resize_to_fill][0]}px; height: #{thumb_variant_public[:resize_to_fill][1]}px") %>
            <%= link_to(image, item[:url], class: "img-thumbnail h-100") %>

            <div class="flex-fill ms-3">
              <h4 class="media-heading"><%= link_to item[:header], item[:url] %></h4>
              <% item[:paragraphs].each do |paragraph| %>
                <p class="card-text">
                  <%= '<small class="text-muted">'.html_safe if paragraph[:small] %>
                  <%= paragraph[:content] %>
                  <%= '</small>'.html_safe if paragraph[:small] %>
                </p>
              <% end %>

              <p><%= link_to item[:button_text], item[:url], class: 'btn btn-primary' %></p>
            </div>
          </div>
          <hr />
        <% end %>

      <%= paginate(resources) %>
    <% end %>
  </div>
</div>